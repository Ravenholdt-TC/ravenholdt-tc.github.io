<h1>{{ page.title }}</h1>
<p>
  <b>Information:</b><br>
  These simulations are all based on the {{ page.gearset }} default profiles from SimulationCraft. Set pieces and legendaries
  have been modified accordingly.<br>
  Furthermore, in order to keep the number of combinations from exploding, only the best few legendaries have been used.<br>
  The target error was 0.2% which means you can consider everything within a ~2k DPS range to be equal and requiring more detailed investigation.
</p>
<p>
  The purpose of these simulations is to get a general idea of how different setups will compare with each other and not
  to promote any definitive "best builds". Several variables (like different trinkets, WF/TF or ingame situations) are not
  taken into account. This is why you, as always, should <b>simulate your own character</b> to find your optimal setup.
</p>
<p>
  <iframe width="286" height="99" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/{{ page.googledoc_id }}/pubchart?oid={{ page.googleimg_id }}&amp;format=image"></iframe>
</p>
<div data-type="AwesomeTableView" data-viewID="{{ page.awesometable }}"></div>
<div id="combinator-chart" style="width: 100%"></div>
<script src="https://awesome-table.com/AwesomeTableInclude.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  google.charts.load('current', {'packages':['corechart']});
  google.charts.setOnLoadCallback(queryCharts);

  function queryCharts() {
    var query = new google.visualization.Query('https://docs.google.com/spreadsheets/d/{{ page.googledoc_id }}/gviz/tq?tq=select%20A,%20E%20limit%2050%20offset%201&gid={{ page.googlesheet_id }}', {
      sendMethod: 'auto'
    });
    query.send(handleQueryResponse);
  }

  function handleQueryResponse(response) {
    drawChart('combinator-chart', response);
  }

  function drawChart(element, response) {
    if (response.isError()) {
      alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
      return;
    }

    var data = response.getDataTable();

    // Set chart options
    var options = {
      title:'Top 50 Profiles',
      width: '100%',
      height: 1000,
      chartArea:{
        top: 50,
        bottom: 50
      },
      hAxis: {
        textStyle: {
          fontSize: 10
        },
        gridlines: {
          count: 20
        },
        viewWindow: {
          min: 0
        }
      },
      vAxis: {
        textStyle: {
          fontSize: 10
        }
      },
      legend: { position: "none" }
    };

    // Instantiate and draw our chart, passing in some options.
    var chart = new google.visualization.BarChart(document.getElementById(element));
    chart.draw(data, options);
  }
</script>
